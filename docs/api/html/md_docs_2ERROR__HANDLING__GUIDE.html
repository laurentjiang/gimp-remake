<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.16.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>GIMP Remake: Error Handling Guide</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">GIMP Remake<span id="projectnumber">&#160;0.1.0</span>
   </div>
   <div id="projectbrief">A modern C++20/Qt6/Skia reimplementation of GIMP</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.16.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('md_docs_2ERROR__HANDLING__GUIDE.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Error Handling Guide </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md32"></a></p>
<p>This guide provides practical examples and best practices for using the GIMP Remake error handling system.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md33"></a>
Table of Contents</h1>
<ol type="1">
<li>Quick Start</li>
<li>Choosing an Error Strategy</li>
<li>Using Result&lt;T&gt;</li>
<li>Using Exceptions</li>
<li>Error Reporting</li>
<li>Recovery Handlers</li>
<li>Error Context</li>
<li>Best Practices</li>
<li>Common Patterns</li>
</ol>
<h1 class="doxsection"><a class="anchor" id="autotoc_md34"></a>
Quick Start</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md35"></a>
Include Headers</h2>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="error__codes_8h.html">error_handling/error_codes.h</a>&quot;</span>       <span class="comment">// Error codes and categories</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="error__result_8h.html">error_handling/error_result.h</a>&quot;</span>      <span class="comment">// Result&lt;T&gt; type</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="error__handler_8h.html">error_handling/error_handler.h</a>&quot;</span>     <span class="comment">// Error handler singleton</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="exceptions_8h.html">error_handling/exceptions.h</a>&quot;</span>        <span class="comment">// Exception classes</span></div>
<div class="ttc" id="aerror__codes_8h_html"><div class="ttname"><a href="error__codes_8h.html">error_codes.h</a></div><div class="ttdoc">Standardized error codes and categories for the GIMP remake application.</div></div>
<div class="ttc" id="aerror__handler_8h_html"><div class="ttname"><a href="error__handler_8h.html">error_handler.h</a></div><div class="ttdoc">Application-wide error handler with crash handling and recovery.</div></div>
<div class="ttc" id="aerror__result_8h_html"><div class="ttname"><a href="error__result_8h.html">error_result.h</a></div><div class="ttdoc">Result&lt;T&gt; type for error-aware return values.</div></div>
<div class="ttc" id="aexceptions_8h_html"><div class="ttname"><a href="exceptions_8h.html">exceptions.h</a></div><div class="ttdoc">Custom exception classes for the GIMP remake application.</div></div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md36"></a>
Initialize Error Handler (in main)</h2>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[]) {</div>
<div class="line">    <span class="keyword">using namespace </span>gimp::error;</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Initialize error handler</span></div>
<div class="line">    <a class="code hl_function" href="classgimp_1_1error_1_1ErrorHandler.html#a9f453e8965e24a23cfd706038561bea4">ErrorHandler::GetInstance</a>().Initialize();</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Your application code</span></div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Shutdown error handler</span></div>
<div class="line">    <a class="code hl_function" href="classgimp_1_1error_1_1ErrorHandler.html#a9f453e8965e24a23cfd706038561bea4">ErrorHandler::GetInstance</a>().Shutdown();</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="ttc" id="aclassgimp_1_1error_1_1ErrorHandler_html_a9f453e8965e24a23cfd706038561bea4"><div class="ttname"><a href="classgimp_1_1error_1_1ErrorHandler.html#a9f453e8965e24a23cfd706038561bea4">gimp::error::ErrorHandler::GetInstance</a></div><div class="ttdeci">static ErrorHandler &amp; GetInstance()</div><div class="ttdoc">Get the singleton instance.</div><div class="ttdef"><b>Definition</b> <a href="error__handler_8cpp_source.html#l00027">error_handler.cpp:27</a></div></div>
</div><!-- fragment --><h1 class="doxsection"><a class="anchor" id="autotoc_md37"></a>
Choosing an Error Strategy</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md38"></a>
Use Result&lt;T&gt; when:</h2>
<ul>
<li>✅ Errors are expected and common (e.g., file not found)</li>
<li>✅ Caller should handle the error locally</li>
<li>✅ You want explicit error handling</li>
<li>✅ You prefer functional-style error propagation</li>
<li>✅ Performance is critical (no exception overhead)</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md39"></a>
Use Exceptions when:</h2>
<ul>
<li>✅ Errors are truly exceptional</li>
<li>✅ Errors need to propagate up multiple call levels</li>
<li>✅ You're in a constructor (can't return Result)</li>
<li>✅ The error is unrecoverable at the call site</li>
<li>✅ Existing code already uses exceptions</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md40"></a>
Use Direct Reporting when:</h2>
<ul>
<li>✅ You want to log an error but continue execution</li>
<li>✅ The error is informational or a warning</li>
<li>✅ You're debugging and want to track issues</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md41"></a>
Using Result&lt;T&gt;</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md42"></a>
Basic Usage</h2>
<div class="fragment"><div class="line"><span class="keyword">using namespace </span>gimp::error;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Function that returns Result&lt;T&gt;</span></div>
<div class="line"><a class="code hl_class" href="classgimp_1_1error_1_1Result.html">Result&lt;int&gt;</a> Divide(<span class="keywordtype">int</span> a, <span class="keywordtype">int</span> b) {</div>
<div class="line">    <span class="keywordflow">if</span> (b == 0) {</div>
<div class="line">        <span class="keywordflow">return</span> ErrorCode::InvalidArgumentOutOfRange;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> a / b;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Checking the result</span></div>
<div class="line"><span class="keyword">auto</span> result = Divide(10, 2);</div>
<div class="line"><span class="keywordflow">if</span> (result.IsOk()) {</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Result: &quot;</span> &lt;&lt; result.Value() &lt;&lt; std::endl;</div>
<div class="line">} <span class="keywordflow">else</span> {</div>
<div class="line">    std::cerr &lt;&lt; <span class="stringliteral">&quot;Error: &quot;</span> &lt;&lt; result.Error().GetMessage() &lt;&lt; std::endl;</div>
<div class="line">}</div>
<div class="ttc" id="aclassgimp_1_1error_1_1Result_html"><div class="ttname"><a href="classgimp_1_1error_1_1Result.html">gimp::error::Result</a></div><div class="ttdoc">Result&lt;T&gt; type for error-aware return values.</div><div class="ttdef"><b>Definition</b> <a href="error__result_8h_source.html#l00148">error_result.h:148</a></div></div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md43"></a>
Result&lt;T&gt; with Custom Context</h2>
<div class="fragment"><div class="line"><a class="code hl_class" href="classgimp_1_1error_1_1Result.html">Result&lt;Image&gt;</a> LoadImage(<span class="keyword">const</span> std::string&amp; path) {</div>
<div class="line">    <span class="keywordflow">if</span> (!std::filesystem::exists(path)) {</div>
<div class="line">        <span class="keywordflow">return</span> <a class="code hl_class" href="classgimp_1_1error_1_1ErrorInfo.html">ErrorInfo</a>(ErrorCode::IOFileNotFound, </div>
<div class="line">                        <span class="stringliteral">&quot;Path: &quot;</span> + path);</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    Image img;</div>
<div class="line">    <span class="keywordflow">if</span> (!img.Load(path)) {</div>
<div class="line">        <span class="keywordflow">return</span> <a class="code hl_class" href="classgimp_1_1error_1_1ErrorInfo.html">ErrorInfo</a>(ErrorCode::IOCorruptedFile,</div>
<div class="line">                        <span class="stringliteral">&quot;Failed to parse: &quot;</span> + path);</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span> img;</div>
<div class="line">}</div>
<div class="ttc" id="aclassgimp_1_1error_1_1ErrorInfo_html"><div class="ttname"><a href="classgimp_1_1error_1_1ErrorInfo.html">gimp::error::ErrorInfo</a></div><div class="ttdoc">Error information container.</div><div class="ttdef"><b>Definition</b> <a href="error__result_8h_source.html#l00025">error_result.h:25</a></div></div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md44"></a>
Result&lt;void&gt; for Operations Without Return Value</h2>
<div class="fragment"><div class="line"><a class="code hl_class" href="classgimp_1_1error_1_1Result.html">Result&lt;void&gt;</a> SaveProject(<span class="keyword">const</span> std::string&amp; path) {</div>
<div class="line">    <span class="keywordflow">if</span> (path.empty()) {</div>
<div class="line">        <span class="keywordflow">return</span> <a class="code hl_function" href="error__result_8h.html#ad46ab623af6cb122ddcbd8d54bc208d6">Err</a>(ErrorCode::InvalidArgumentNull, <span class="stringliteral">&quot;Empty path&quot;</span>);</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">if</span> (!HasWritePermission(path)) {</div>
<div class="line">        <span class="keywordflow">return</span> <a class="code hl_function" href="error__result_8h.html#ad46ab623af6cb122ddcbd8d54bc208d6">Err</a>(ErrorCode::IOFileAccessDenied, path);</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Save project</span></div>
<div class="line">    <span class="keywordflow">return</span> <a class="code hl_function" href="error__result_8h.html#a7667c82dbaf0efd73c53b6be6b57e0fc">Ok</a>();  <span class="comment">// Success</span></div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Usage</span></div>
<div class="line"><span class="keyword">auto</span> result = SaveProject(<span class="stringliteral">&quot;project.gimp&quot;</span>);</div>
<div class="line"><span class="keywordflow">if</span> (!result.IsOk()) {</div>
<div class="line">    <a class="code hl_function" href="classgimp_1_1error_1_1ErrorHandler.html#a9f453e8965e24a23cfd706038561bea4">ErrorHandler::GetInstance</a>().ReportError(result.Error());</div>
<div class="line">}</div>
<div class="ttc" id="aerror__result_8h_html_a7667c82dbaf0efd73c53b6be6b57e0fc"><div class="ttname"><a href="error__result_8h.html#a7667c82dbaf0efd73c53b6be6b57e0fc">gimp::error::Ok</a></div><div class="ttdeci">Result&lt; void &gt; Ok()</div><div class="ttdoc">Helper function to create a successful Result&lt;void&gt;.</div><div class="ttdef"><b>Definition</b> <a href="error__result_8h_source.html#l00320">error_result.h:320</a></div></div>
<div class="ttc" id="aerror__result_8h_html_ad46ab623af6cb122ddcbd8d54bc208d6"><div class="ttname"><a href="error__result_8h.html#ad46ab623af6cb122ddcbd8d54bc208d6">gimp::error::Err</a></div><div class="ttdeci">Result&lt; void &gt; Err(ErrorCode code, const std::string &amp;context=&quot;&quot;)</div><div class="ttdoc">Helper function to create an error Result&lt;void&gt;.</div><div class="ttdef"><b>Definition</b> <a href="error__result_8h_source.html#l00331">error_result.h:331</a></div></div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md45"></a>
Chaining with Map</h2>
<div class="fragment"><div class="line"><span class="keyword">auto</span> result = LoadImage(<span class="stringliteral">&quot;photo.png&quot;</span>)</div>
<div class="line">    .Map([](<span class="keyword">const</span> Image&amp; img) {</div>
<div class="line">        <span class="keywordflow">return</span> img.Resize(800, 600);</div>
<div class="line">    })</div>
<div class="line">    .Map([](<span class="keyword">const</span> Image&amp; img) {</div>
<div class="line">        <span class="keywordflow">return</span> img.ApplyFilter(<span class="stringliteral">&quot;blur&quot;</span>);</div>
<div class="line">    });</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span> (result.IsOk()) {</div>
<div class="line">    DisplayImage(result.Value());</div>
<div class="line">}</div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md46"></a>
Using ValueOr for Defaults</h2>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> GetConfigValue(<span class="keyword">const</span> std::string&amp; key) {</div>
<div class="line">    <span class="keywordflow">return</span> ReadConfig(key).ValueOr(42);  <span class="comment">// Default to 42 on error</span></div>
<div class="line">}</div>
</div><!-- fragment --><h1 class="doxsection"><a class="anchor" id="autotoc_md47"></a>
Using Exceptions</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md48"></a>
Throwing Exceptions</h2>
<div class="fragment"><div class="line"><span class="keyword">using namespace </span>gimp::error;</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> LoadBrush(<span class="keyword">const</span> std::string&amp; name) {</div>
<div class="line">    <span class="keywordflow">if</span> (name.empty()) {</div>
<div class="line">        <a class="code hl_define" href="exceptions_8h.html#adab67dfdf0b290bfcc54d238a285a03e">THROW_EXCEPTION</a>(</div>
<div class="line">            <a class="code hl_function" href="classgimp_1_1error_1_1InvalidArgumentException.html#ab4cf68937cb7aeed7cba2a95c2856806">InvalidArgumentException::NullArgument</a>(<span class="stringliteral">&quot;name&quot;</span>)</div>
<div class="line">        );</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">if</span> (!BrushExists(name)) {</div>
<div class="line">        <a class="code hl_define" href="exceptions_8h.html#adab67dfdf0b290bfcc54d238a285a03e">THROW_EXCEPTION</a>(</div>
<div class="line">            <a class="code hl_function" href="classgimp_1_1error_1_1BrushException.html#a1c55de9eeda2d14726666e221ad73866">BrushException::NotFound</a>(name)</div>
<div class="line">        );</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Load brush...</span></div>
<div class="line">}</div>
<div class="ttc" id="aclassgimp_1_1error_1_1BrushException_html_a1c55de9eeda2d14726666e221ad73866"><div class="ttname"><a href="classgimp_1_1error_1_1BrushException.html#a1c55de9eeda2d14726666e221ad73866">gimp::error::BrushException::NotFound</a></div><div class="ttdeci">static BrushException NotFound(const std::string &amp;brush_name)</div><div class="ttdoc">Create BrushException for brush not found.</div><div class="ttdef"><b>Definition</b> <a href="exceptions_8h_source.html#l00229">exceptions.h:229</a></div></div>
<div class="ttc" id="aclassgimp_1_1error_1_1InvalidArgumentException_html_ab4cf68937cb7aeed7cba2a95c2856806"><div class="ttname"><a href="classgimp_1_1error_1_1InvalidArgumentException.html#ab4cf68937cb7aeed7cba2a95c2856806">gimp::error::InvalidArgumentException::NullArgument</a></div><div class="ttdeci">static InvalidArgumentException NullArgument(const std::string &amp;param_name)</div><div class="ttdoc">Create InvalidArgumentException for null argument.</div><div class="ttdef"><b>Definition</b> <a href="exceptions_8h_source.html#l00190">exceptions.h:190</a></div></div>
<div class="ttc" id="aexceptions_8h_html_adab67dfdf0b290bfcc54d238a285a03e"><div class="ttname"><a href="exceptions_8h.html#adab67dfdf0b290bfcc54d238a285a03e">THROW_EXCEPTION</a></div><div class="ttdeci">#define THROW_EXCEPTION(exception)</div><div class="ttdoc">Helper macro to throw an exception and report it to the error handler.</div><div class="ttdef"><b>Definition</b> <a href="exceptions_8h_source.html#l00339">exceptions.h:339</a></div></div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md49"></a>
Catching Specific Exceptions</h2>
<div class="fragment"><div class="line"><span class="keywordflow">try</span> {</div>
<div class="line">    LoadBrush(<span class="stringliteral">&quot;watercolor&quot;</span>);</div>
<div class="line">    ApplyBrush();</div>
<div class="line">} <span class="keywordflow">catch</span> (<span class="keyword">const</span> <a class="code hl_class" href="classgimp_1_1error_1_1BrushException.html">BrushException</a>&amp; e) {</div>
<div class="line">    std::cerr &lt;&lt; <span class="stringliteral">&quot;Brush error: &quot;</span> &lt;&lt; e.<a class="code hl_function" href="classgimp_1_1error_1_1GimpException.html#a157f40ca1b5a1fa55592dd2e66b85af7">what</a>() &lt;&lt; std::endl;</div>
<div class="line">    <span class="comment">// Use default brush</span></div>
<div class="line">    LoadBrush(<span class="stringliteral">&quot;default&quot;</span>);</div>
<div class="line">} <span class="keywordflow">catch</span> (<span class="keyword">const</span> <a class="code hl_class" href="classgimp_1_1error_1_1IOException.html">IOException</a>&amp; e) {</div>
<div class="line">    std::cerr &lt;&lt; <span class="stringliteral">&quot;I/O error: &quot;</span> &lt;&lt; e.<a class="code hl_function" href="classgimp_1_1error_1_1GimpException.html#a157f40ca1b5a1fa55592dd2e66b85af7">what</a>() &lt;&lt; std::endl;</div>
<div class="line">    <span class="comment">// Show error to user</span></div>
<div class="line">    ShowErrorDialog(e.<a class="code hl_function" href="classgimp_1_1error_1_1GimpException.html#a24855d1b60fd2a9f4ed149f3fda9c406">GetErrorInfo</a>());</div>
<div class="line">}</div>
<div class="ttc" id="aclassgimp_1_1error_1_1BrushException_html"><div class="ttname"><a href="classgimp_1_1error_1_1BrushException.html">gimp::error::BrushException</a></div><div class="ttdoc">Exception for brush errors.</div><div class="ttdef"><b>Definition</b> <a href="exceptions_8h_source.html#l00214">exceptions.h:214</a></div></div>
<div class="ttc" id="aclassgimp_1_1error_1_1GimpException_html_a157f40ca1b5a1fa55592dd2e66b85af7"><div class="ttname"><a href="classgimp_1_1error_1_1GimpException.html#a157f40ca1b5a1fa55592dd2e66b85af7">gimp::error::GimpException::what</a></div><div class="ttdeci">const char * what() const noexcept override</div><div class="ttdoc">Get the error message.</div><div class="ttdef"><b>Definition</b> <a href="exceptions_8h_source.html#l00047">exceptions.h:47</a></div></div>
<div class="ttc" id="aclassgimp_1_1error_1_1GimpException_html_a24855d1b60fd2a9f4ed149f3fda9c406"><div class="ttname"><a href="classgimp_1_1error_1_1GimpException.html#a24855d1b60fd2a9f4ed149f3fda9c406">gimp::error::GimpException::GetErrorInfo</a></div><div class="ttdeci">const ErrorInfo &amp; GetErrorInfo() const</div><div class="ttdoc">Get the error information.</div><div class="ttdef"><b>Definition</b> <a href="exceptions_8h_source.html#l00060">exceptions.h:60</a></div></div>
<div class="ttc" id="aclassgimp_1_1error_1_1IOException_html"><div class="ttname"><a href="classgimp_1_1error_1_1IOException.html">gimp::error::IOException</a></div><div class="ttdoc">Exception for I/O errors.</div><div class="ttdef"><b>Definition</b> <a href="exceptions_8h_source.html#l00090">exceptions.h:90</a></div></div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md50"></a>
Catching All GIMP Exceptions</h2>
<div class="fragment"><div class="line"><span class="keywordflow">try</span> {</div>
<div class="line">    PerformComplexOperation();</div>
<div class="line">} <span class="keywordflow">catch</span> (<span class="keyword">const</span> <a class="code hl_class" href="classgimp_1_1error_1_1GimpException.html">GimpException</a>&amp; e) {</div>
<div class="line">    <span class="comment">// Handle any GIMP exception</span></div>
<div class="line">    <a class="code hl_function" href="classgimp_1_1error_1_1ErrorHandler.html#a9f453e8965e24a23cfd706038561bea4">ErrorHandler::GetInstance</a>().ReportError(e.<a class="code hl_function" href="classgimp_1_1error_1_1GimpException.html#a24855d1b60fd2a9f4ed149f3fda9c406">GetErrorInfo</a>());</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">if</span> (e.<a class="code hl_function" href="classgimp_1_1error_1_1GimpException.html#a4528f01918c5ddab02e669c55e34ec84">GetSeverity</a>() == <a class="code hl_enumvalue" href="error__codes_8h.html#a79c20b0eb93b241daa0981758c7a5bd5a882384ec38ce8d9582b57e70861730e4">ErrorSeverity::Fatal</a>) {</div>
<div class="line">        <span class="comment">// Fatal error - must exit</span></div>
<div class="line">        <span class="keywordflow">throw</span>;</div>
<div class="line">    }</div>
<div class="line">    <span class="comment">// Try to recover from non-fatal errors</span></div>
<div class="line">}</div>
<div class="ttc" id="aclassgimp_1_1error_1_1GimpException_html"><div class="ttname"><a href="classgimp_1_1error_1_1GimpException.html">gimp::error::GimpException</a></div><div class="ttdoc">Base exception class for all GIMP remake exceptions.</div><div class="ttdef"><b>Definition</b> <a href="exceptions_8h_source.html#l00025">exceptions.h:25</a></div></div>
<div class="ttc" id="aclassgimp_1_1error_1_1GimpException_html_a4528f01918c5ddab02e669c55e34ec84"><div class="ttname"><a href="classgimp_1_1error_1_1GimpException.html#a4528f01918c5ddab02e669c55e34ec84">gimp::error::GimpException::GetSeverity</a></div><div class="ttdeci">ErrorSeverity GetSeverity() const</div><div class="ttdoc">Get the error severity.</div><div class="ttdef"><b>Definition</b> <a href="exceptions_8h_source.html#l00078">exceptions.h:78</a></div></div>
<div class="ttc" id="aerror__codes_8h_html_a79c20b0eb93b241daa0981758c7a5bd5a882384ec38ce8d9582b57e70861730e4"><div class="ttname"><a href="error__codes_8h.html#a79c20b0eb93b241daa0981758c7a5bd5a882384ec38ce8d9582b57e70861730e4">gimp::error::ErrorSeverity::Fatal</a></div><div class="ttdeci">@ Fatal</div><div class="ttdoc">Fatal error, application cannot continue safely.</div><div class="ttdef"><b>Definition</b> <a href="error__codes_8h_source.html#l00043">error_codes.h:43</a></div></div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md51"></a>
Using HANDLE_EXCEPTIONS Macro</h2>
<div class="fragment"><div class="line"><a class="code hl_define" href="exceptions_8h.html#a99061a920b35250bdcc29b83abfd8796">HANDLE_EXCEPTIONS</a>({</div>
<div class="line">    LoadProject(<span class="stringliteral">&quot;myproject.gimp&quot;</span>);</div>
<div class="line">    ProcessAllLayers();</div>
<div class="line">    SaveProject(<span class="stringliteral">&quot;myproject.gimp&quot;</span>);</div>
<div class="line">}, {</div>
<div class="line">    <span class="comment">// Recovery code</span></div>
<div class="line">    std::cerr &lt;&lt; <span class="stringliteral">&quot;Failed to process project&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">    CreateEmergencyBackup();</div>
<div class="line">});</div>
<div class="ttc" id="aexceptions_8h_html_a99061a920b35250bdcc29b83abfd8796"><div class="ttname"><a href="exceptions_8h.html#a99061a920b35250bdcc29b83abfd8796">HANDLE_EXCEPTIONS</a></div><div class="ttdeci">#define HANDLE_EXCEPTIONS(code_block, recovery_block)</div><div class="ttdoc">Helper macro to catch and handle exceptions.</div><div class="ttdef"><b>Definition</b> <a href="exceptions_8h_source.html#l00356">exceptions.h:356</a></div></div>
</div><!-- fragment --><h1 class="doxsection"><a class="anchor" id="autotoc_md52"></a>
Error Reporting</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md53"></a>
Direct Error Reporting</h2>
<div class="fragment"><div class="line"><span class="keyword">using namespace </span>gimp::error;</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> ValidateSettings() {</div>
<div class="line">    <span class="keywordflow">if</span> (settings.brush_size &lt; 1 || settings.brush_size &gt; 100) {</div>
<div class="line">        <a class="code hl_function" href="classgimp_1_1error_1_1ErrorHandler.html#a9f453e8965e24a23cfd706038561bea4">ErrorHandler::GetInstance</a>().ReportError(</div>
<div class="line">            ErrorCode::InvalidArgumentOutOfRange,</div>
<div class="line">            <span class="stringliteral">&quot;Brush size must be 1-100, got: &quot;</span> + </div>
<div class="line">            std::to_string(settings.brush_size)</div>
<div class="line">        );</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md54"></a>
Using the REPORT_ERROR Macro (with context)</h2>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> ProcessImage() {</div>
<div class="line">    <a class="code hl_define" href="error__handler_8h.html#a8af3909cedb6758e00d6a8a8a05632e5">ERROR_CONTEXT</a>(<span class="stringliteral">&quot;ProcessImage&quot;</span>);</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">if</span> (!image.IsValid()) {</div>
<div class="line">        <a class="code hl_define" href="error__handler_8h.html#a025288e091437c55b5bb097f20bd0020">REPORT_ERROR</a>(ErrorCode::InvalidState, <span class="stringliteral">&quot;Invalid image state&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Process...</span></div>
<div class="line">}</div>
<div class="line"><span class="comment">// Error will include context: &quot;ProcessImage&quot;</span></div>
<div class="ttc" id="aerror__handler_8h_html_a025288e091437c55b5bb097f20bd0020"><div class="ttname"><a href="error__handler_8h.html#a025288e091437c55b5bb097f20bd0020">REPORT_ERROR</a></div><div class="ttdeci">#define REPORT_ERROR(code, context)</div><div class="ttdoc">Macro for reporting errors with automatic context.</div><div class="ttdef"><b>Definition</b> <a href="error__handler_8h_source.html#l00268">error_handler.h:268</a></div></div>
<div class="ttc" id="aerror__handler_8h_html_a8af3909cedb6758e00d6a8a8a05632e5"><div class="ttname"><a href="error__handler_8h.html#a8af3909cedb6758e00d6a8a8a05632e5">ERROR_CONTEXT</a></div><div class="ttdeci">#define ERROR_CONTEXT(name)</div><div class="ttdoc">Macro for adding error context.</div><div class="ttdef"><b>Definition</b> <a href="error__handler_8h_source.html#l00261">error_handler.h:261</a></div></div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md55"></a>
Reporting Fatal Errors</h2>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> InitializeRenderer() {</div>
<div class="line">    <span class="keywordflow">if</span> (!CreateGLContext()) {</div>
<div class="line">        <span class="comment">// Fatal error - can&#39;t continue without renderer</span></div>
<div class="line">        <a class="code hl_define" href="error__handler_8h.html#ab3f1c3b6089362052b9f491610a835c8">FATAL_ERROR</a>(</div>
<div class="line">            ErrorCode::RenderInitializationFailed,</div>
<div class="line">            <span class="stringliteral">&quot;Failed to create OpenGL context&quot;</span></div>
<div class="line">        );</div>
<div class="line">        <span class="comment">// This never returns - app will terminate safely</span></div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="ttc" id="aerror__handler_8h_html_ab3f1c3b6089362052b9f491610a835c8"><div class="ttname"><a href="error__handler_8h.html#ab3f1c3b6089362052b9f491610a835c8">FATAL_ERROR</a></div><div class="ttdeci">#define FATAL_ERROR(code, context)</div><div class="ttdoc">Macro for handling fatal errors with automatic context.</div><div class="ttdef"><b>Definition</b> <a href="error__handler_8h_source.html#l00277">error_handler.h:277</a></div></div>
</div><!-- fragment --><h1 class="doxsection"><a class="anchor" id="autotoc_md56"></a>
Recovery Handlers</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md57"></a>
Registering a Recovery Handler</h2>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> SetupErrorHandlers() {</div>
<div class="line">    <span class="keyword">using namespace </span>gimp::error;</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Register recovery for rendering errors</span></div>
<div class="line">    <a class="code hl_function" href="classgimp_1_1error_1_1ErrorHandler.html#a9f453e8965e24a23cfd706038561bea4">ErrorHandler::GetInstance</a>().RegisterRecoveryHandler(</div>
<div class="line">        <a class="code hl_enumvalue" href="error__codes_8h.html#a810430fca6f6c0288605750338048c54aa6e8f9aed2ac6481dc25a18a33342d03">ErrorCategory::Rendering</a>,</div>
<div class="line">        [](<span class="keyword">const</span> <a class="code hl_class" href="classgimp_1_1error_1_1ErrorInfo.html">ErrorInfo</a>&amp; error) -&gt; <span class="keywordtype">bool</span> {</div>
<div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;Attempting to recover from: &quot;</span> </div>
<div class="line">                     &lt;&lt; error.GetMessage() &lt;&lt; std::endl;</div>
<div class="line">            </div>
<div class="line">            <span class="comment">// Try to reinitialize renderer</span></div>
<div class="line">            <span class="keywordflow">if</span> (ReinitializeRenderer()) {</div>
<div class="line">                std::cout &lt;&lt; <span class="stringliteral">&quot;Renderer recovered successfully&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">            }</div>
<div class="line">            </div>
<div class="line">            <span class="keywordflow">return</span> <span class="keyword">false</span>;  <span class="comment">// Recovery failed</span></div>
<div class="line">        }</div>
<div class="line">    );</div>
<div class="line">}</div>
<div class="ttc" id="aerror__codes_8h_html_a810430fca6f6c0288605750338048c54aa6e8f9aed2ac6481dc25a18a33342d03"><div class="ttname"><a href="error__codes_8h.html#a810430fca6f6c0288605750338048c54aa6e8f9aed2ac6481dc25a18a33342d03">gimp::error::ErrorCategory::Rendering</a></div><div class="ttdeci">@ Rendering</div><div class="ttdoc">Graphics rendering and GPU operations.</div><div class="ttdef"><b>Definition</b> <a href="error__codes_8h_source.html#l00024">error_codes.h:24</a></div></div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md58"></a>
Recovery for I/O Errors</h2>
<div class="fragment"><div class="line"><a class="code hl_function" href="classgimp_1_1error_1_1ErrorHandler.html#a9f453e8965e24a23cfd706038561bea4">ErrorHandler::GetInstance</a>().RegisterRecoveryHandler(</div>
<div class="line">    <a class="code hl_enumvalue" href="error__codes_8h.html#a810430fca6f6c0288605750338048c54acf3882f1c43ab22bff0bd9d82d83251b">ErrorCategory::IO</a>,</div>
<div class="line">    [](<span class="keyword">const</span> <a class="code hl_class" href="classgimp_1_1error_1_1ErrorInfo.html">ErrorInfo</a>&amp; error) -&gt; <span class="keywordtype">bool</span> {</div>
<div class="line">        <span class="comment">// For I/O errors, try alternate locations</span></div>
<div class="line">        <span class="keywordflow">if</span> (error.GetCode() == ErrorCode::IOFileNotFound) {</div>
<div class="line">            <span class="keywordflow">return</span> TryAlternateLocations();</div>
<div class="line">        }</div>
<div class="line">        </div>
<div class="line">        <span class="comment">// For access denied, prompt for elevated permissions</span></div>
<div class="line">        <span class="keywordflow">if</span> (error.GetCode() == ErrorCode::IOFileAccessDenied) {</div>
<div class="line">            <span class="keywordflow">return</span> RequestElevatedPermissions();</div>
<div class="line">        }</div>
<div class="line">        </div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">    }</div>
<div class="line">);</div>
<div class="ttc" id="aerror__codes_8h_html_a810430fca6f6c0288605750338048c54acf3882f1c43ab22bff0bd9d82d83251b"><div class="ttname"><a href="error__codes_8h.html#a810430fca6f6c0288605750338048c54acf3882f1c43ab22bff0bd9d82d83251b">gimp::error::ErrorCategory::IO</a></div><div class="ttdeci">@ IO</div><div class="ttdoc">File I/O and disk operations.</div><div class="ttdef"><b>Definition</b> <a href="error__codes_8h_source.html#l00023">error_codes.h:23</a></div></div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md59"></a>
Recovery for Memory Errors</h2>
<div class="fragment"><div class="line"><a class="code hl_function" href="classgimp_1_1error_1_1ErrorHandler.html#a9f453e8965e24a23cfd706038561bea4">ErrorHandler::GetInstance</a>().RegisterRecoveryHandler(</div>
<div class="line">    <a class="code hl_enumvalue" href="error__codes_8h.html#a810430fca6f6c0288605750338048c54a4789f23283b3a61f858b641a1bef19a3">ErrorCategory::Memory</a>,</div>
<div class="line">    [](<span class="keyword">const</span> <a class="code hl_class" href="classgimp_1_1error_1_1ErrorInfo.html">ErrorInfo</a>&amp; error) -&gt; <span class="keywordtype">bool</span> {</div>
<div class="line">        <span class="comment">// Try to free some memory</span></div>
<div class="line">        ClearImageCache();</div>
<div class="line">        ClearUndoHistory();</div>
<div class="line">        </div>
<div class="line">        <span class="comment">// Force garbage collection</span></div>
<div class="line">        RunGarbageCollection();</div>
<div class="line">        </div>
<div class="line">        <span class="comment">// If we freed enough memory, recovery succeeded</span></div>
<div class="line">        <span class="keywordflow">return</span> GetAvailableMemory() &gt; GetMinimumRequiredMemory();</div>
<div class="line">    }</div>
<div class="line">);</div>
<div class="ttc" id="aerror__codes_8h_html_a810430fca6f6c0288605750338048c54a4789f23283b3a61f858b641a1bef19a3"><div class="ttname"><a href="error__codes_8h.html#a810430fca6f6c0288605750338048c54a4789f23283b3a61f858b641a1bef19a3">gimp::error::ErrorCategory::Memory</a></div><div class="ttdeci">@ Memory</div><div class="ttdoc">Memory allocation and management.</div><div class="ttdef"><b>Definition</b> <a href="error__codes_8h_source.html#l00029">error_codes.h:29</a></div></div>
</div><!-- fragment --><h1 class="doxsection"><a class="anchor" id="autotoc_md60"></a>
Error Context</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md61"></a>
Adding Context to Function Calls</h2>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> ProcessLayer(<a class="code hl_class" href="classgimp_1_1Layer.html">Layer</a>* layer) {</div>
<div class="line">    <a class="code hl_define" href="error__handler_8h.html#a8af3909cedb6758e00d6a8a8a05632e5">ERROR_CONTEXT</a>(<span class="stringliteral">&quot;ProcessLayer&quot;</span>);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Any errors here will include &quot;ProcessLayer&quot; in context</span></div>
<div class="line">    ApplyFilters(layer);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> ApplyFilters(<a class="code hl_class" href="classgimp_1_1Layer.html">Layer</a>* layer) {</div>
<div class="line">    <a class="code hl_define" href="error__handler_8h.html#a8af3909cedb6758e00d6a8a8a05632e5">ERROR_CONTEXT</a>(<span class="stringliteral">&quot;ApplyFilters&quot;</span>);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Context is now: &quot;ProcessLayer &gt; ApplyFilters&quot;</span></div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; filter : filters) {</div>
<div class="line">        filter.Apply(layer);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="ttc" id="aclassgimp_1_1Layer_html"><div class="ttname"><a href="classgimp_1_1Layer.html">gimp::Layer</a></div><div class="ttdoc">A single compositable image layer with RGBA pixel data.</div><div class="ttdef"><b>Definition</b> <a href="layer_8h_source.html#l00033">layer.h:33</a></div></div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md62"></a>
Nested Context</h2>
<div class="fragment"><div class="line"><span class="keyword">class </span>ImageProcessor {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keywordtype">void</span> Process() {</div>
<div class="line">        <a class="code hl_define" href="error__handler_8h.html#a8af3909cedb6758e00d6a8a8a05632e5">ERROR_CONTEXT</a>(<span class="stringliteral">&quot;ImageProcessor::Process&quot;</span>);</div>
<div class="line">        </div>
<div class="line">        LoadImage();      <span class="comment">// Context: ImageProcessor::Process &gt; LoadImage</span></div>
<div class="line">        Transform();      <span class="comment">// Context: ImageProcessor::Process &gt; Transform</span></div>
<div class="line">        SaveImage();      <span class="comment">// Context: ImageProcessor::Process &gt; SaveImage</span></div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line">    <span class="keywordtype">void</span> LoadImage() {</div>
<div class="line">        <a class="code hl_define" href="error__handler_8h.html#a8af3909cedb6758e00d6a8a8a05632e5">ERROR_CONTEXT</a>(<span class="stringliteral">&quot;LoadImage&quot;</span>);</div>
<div class="line">        <span class="comment">// ...</span></div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="keywordtype">void</span> <a class="code hl_enumvalue" href="error__codes_8h.html#a810430fca6f6c0288605750338048c54a2ff4148554480a37f85efd299df04850">Transform</a>() {</div>
<div class="line">        <a class="code hl_define" href="error__handler_8h.html#a8af3909cedb6758e00d6a8a8a05632e5">ERROR_CONTEXT</a>(<span class="stringliteral">&quot;Transform&quot;</span>);</div>
<div class="line">        <span class="comment">// ...</span></div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="keywordtype">void</span> SaveImage() {</div>
<div class="line">        <a class="code hl_define" href="error__handler_8h.html#a8af3909cedb6758e00d6a8a8a05632e5">ERROR_CONTEXT</a>(<span class="stringliteral">&quot;SaveImage&quot;</span>);</div>
<div class="line">        <span class="comment">// ...</span></div>
<div class="line">    }</div>
<div class="line">};</div>
<div class="ttc" id="aerror__codes_8h_html_a810430fca6f6c0288605750338048c54a2ff4148554480a37f85efd299df04850"><div class="ttname"><a href="error__codes_8h.html#a810430fca6f6c0288605750338048c54a2ff4148554480a37f85efd299df04850">gimp::error::ErrorCategory::Transform</a></div><div class="ttdeci">@ Transform</div><div class="ttdoc">Image transformation failures.</div><div class="ttdef"><b>Definition</b> <a href="error__codes_8h_source.html#l00027">error_codes.h:27</a></div></div>
</div><!-- fragment --><h1 class="doxsection"><a class="anchor" id="autotoc_md63"></a>
Best Practices</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md64"></a>
1. Always Check Results</h2>
<div class="fragment"><div class="line"><span class="comment">// ❌ Bad - ignoring result</span></div>
<div class="line"><span class="keyword">auto</span> result = LoadImage(<span class="stringliteral">&quot;photo.png&quot;</span>);</div>
<div class="line">ProcessImage(result.Value());  <span class="comment">// Might crash if load failed!</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// ✅ Good - check result</span></div>
<div class="line"><span class="keyword">auto</span> result = LoadImage(<span class="stringliteral">&quot;photo.png&quot;</span>);</div>
<div class="line"><span class="keywordflow">if</span> (result.IsOk()) {</div>
<div class="line">    ProcessImage(result.Value());</div>
<div class="line">} <span class="keywordflow">else</span> {</div>
<div class="line">    HandleError(result.Error());</div>
<div class="line">}</div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md65"></a>
2. Provide Meaningful Context</h2>
<div class="fragment"><div class="line"><span class="comment">// ❌ Bad - no context</span></div>
<div class="line"><span class="keywordflow">return</span> ErrorCode::IOFileNotFound;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// ✅ Good - with context</span></div>
<div class="line"><span class="keywordflow">return</span> <a class="code hl_class" href="classgimp_1_1error_1_1ErrorInfo.html">ErrorInfo</a>(ErrorCode::IOFileNotFound, </div>
<div class="line">                <span class="stringliteral">&quot;Could not find brush file: &quot;</span> + brush_name);</div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md66"></a>
3. Use Appropriate Severity</h2>
<div class="fragment"><div class="line"><span class="comment">// ❌ Bad - using exception for expected error</span></div>
<div class="line"><span class="keywordflow">if</span> (!FileExists(path)) {</div>
<div class="line">    <span class="keywordflow">throw</span> <a class="code hl_function" href="classgimp_1_1error_1_1IOException.html#aa82bc13acd87c300b1c1492e9a389259">IOException::FileNotFound</a>(path);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// ✅ Good - use Result for expected errors</span></div>
<div class="line"><span class="keywordflow">if</span> (!FileExists(path)) {</div>
<div class="line">    <span class="keywordflow">return</span> <a class="code hl_class" href="classgimp_1_1error_1_1ErrorInfo.html">ErrorInfo</a>(ErrorCode::IOFileNotFound, path);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// ✅ Good - exception for unexpected errors</span></div>
<div class="line"><span class="keywordflow">if</span> (gpu_memory_corrupted) {</div>
<div class="line">    <a class="code hl_define" href="exceptions_8h.html#adab67dfdf0b290bfcc54d238a285a03e">THROW_EXCEPTION</a>(</div>
<div class="line">        MemoryException::MemoryCorruption(<span class="stringliteral">&quot;GPU memory corrupted&quot;</span>)</div>
<div class="line">    );</div>
<div class="line">}</div>
<div class="ttc" id="aclassgimp_1_1error_1_1IOException_html_aa82bc13acd87c300b1c1492e9a389259"><div class="ttname"><a href="classgimp_1_1error_1_1IOException.html#aa82bc13acd87c300b1c1492e9a389259">gimp::error::IOException::FileNotFound</a></div><div class="ttdeci">static IOException FileNotFound(const std::string &amp;filename)</div><div class="ttdoc">Create IOException for file not found.</div><div class="ttdef"><b>Definition</b> <a href="exceptions_8h_source.html#l00106">exceptions.h:106</a></div></div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md67"></a>
4. Don't Catch and Ignore</h2>
<div class="fragment"><div class="line"><span class="comment">// ❌ Bad - swallowing errors</span></div>
<div class="line"><span class="keywordflow">try</span> {</div>
<div class="line">    CriticalOperation();</div>
<div class="line">} <span class="keywordflow">catch</span> (...) {</div>
<div class="line">    <span class="comment">// Ignored - bad!</span></div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// ✅ Good - handle or propagate</span></div>
<div class="line"><span class="keywordflow">try</span> {</div>
<div class="line">    CriticalOperation();</div>
<div class="line">} <span class="keywordflow">catch</span> (<span class="keyword">const</span> <a class="code hl_class" href="classgimp_1_1error_1_1GimpException.html">GimpException</a>&amp; e) {</div>
<div class="line">    <a class="code hl_function" href="classgimp_1_1error_1_1ErrorHandler.html#a9f453e8965e24a23cfd706038561bea4">ErrorHandler::GetInstance</a>().ReportError(e.<a class="code hl_function" href="classgimp_1_1error_1_1GimpException.html#a24855d1b60fd2a9f4ed149f3fda9c406">GetErrorInfo</a>());</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">false</span>;  <span class="comment">// Indicate failure to caller</span></div>
<div class="line">}</div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md68"></a>
5. Initialize Early, Shutdown Late</h2>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[]) {</div>
<div class="line">    <span class="comment">// ✅ Initialize first thing</span></div>
<div class="line">    <a class="code hl_function" href="classgimp_1_1error_1_1ErrorHandler.html#a9f453e8965e24a23cfd706038561bea4">ErrorHandler::GetInstance</a>().Initialize();</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">try</span> {</div>
<div class="line">        RunApplication(argc, argv);</div>
<div class="line">    } <span class="keywordflow">catch</span> (...) {</div>
<div class="line">        <span class="comment">// Handle</span></div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// ✅ Shutdown last thing</span></div>
<div class="line">    <a class="code hl_function" href="classgimp_1_1error_1_1ErrorHandler.html#a9f453e8965e24a23cfd706038561bea4">ErrorHandler::GetInstance</a>().Shutdown();</div>
<div class="line">}</div>
</div><!-- fragment --><h1 class="doxsection"><a class="anchor" id="autotoc_md69"></a>
Common Patterns</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md70"></a>
Pattern 1: File I/O with Result</h2>
<div class="fragment"><div class="line"><a class="code hl_class" href="classgimp_1_1error_1_1Result.html">Result&lt;std::string&gt;</a> ReadConfigFile(<span class="keyword">const</span> std::string&amp; path) {</div>
<div class="line">    <a class="code hl_define" href="error__handler_8h.html#a8af3909cedb6758e00d6a8a8a05632e5">ERROR_CONTEXT</a>(<span class="stringliteral">&quot;ReadConfigFile&quot;</span>);</div>
<div class="line">    </div>
<div class="line">    std::ifstream file(path);</div>
<div class="line">    <span class="keywordflow">if</span> (!file.is_open()) {</div>
<div class="line">        <span class="keywordflow">return</span> <a class="code hl_class" href="classgimp_1_1error_1_1ErrorInfo.html">ErrorInfo</a>(ErrorCode::IOFileNotFound, path);</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    std::string content;</div>
<div class="line">    <span class="keywordflow">if</span> (!std::getline(file, content, <span class="charliteral">&#39;\0&#39;</span>)) {</div>
<div class="line">        <span class="keywordflow">return</span> <a class="code hl_class" href="classgimp_1_1error_1_1ErrorInfo.html">ErrorInfo</a>(ErrorCode::IOReadError, path);</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span> content;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Usage</span></div>
<div class="line"><span class="keyword">auto</span> result = ReadConfigFile(<span class="stringliteral">&quot;config.ini&quot;</span>);</div>
<div class="line"><span class="keywordflow">if</span> (result.IsOk()) {</div>
<div class="line">    ParseConfig(result.Value());</div>
<div class="line">} <span class="keywordflow">else</span> {</div>
<div class="line">    <span class="comment">// Use default config</span></div>
<div class="line">    UseDefaultConfig();</div>
<div class="line">}</div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md71"></a>
Pattern 2: Resource Allocation with Exceptions</h2>
<div class="fragment"><div class="line"><span class="keyword">class </span>Texture {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    Texture(<span class="keywordtype">int</span> width, <span class="keywordtype">int</span> height) {</div>
<div class="line">        <a class="code hl_define" href="error__handler_8h.html#a8af3909cedb6758e00d6a8a8a05632e5">ERROR_CONTEXT</a>(<span class="stringliteral">&quot;Texture::Texture&quot;</span>);</div>
<div class="line">        </div>
<div class="line">        data_ = <span class="keyword">new</span>(std::nothrow) uint8_t[width * height * 4];</div>
<div class="line">        <span class="keywordflow">if</span> (!data_) {</div>
<div class="line">            <a class="code hl_define" href="exceptions_8h.html#adab67dfdf0b290bfcc54d238a285a03e">THROW_EXCEPTION</a>(</div>
<div class="line">                <a class="code hl_function" href="classgimp_1_1error_1_1MemoryException.html#a46168c69b3feaa09362141f76d9fbf17">MemoryException::AllocationFailed</a>(</div>
<div class="line">                    <span class="stringliteral">&quot;Texture size: &quot;</span> + std::to_string(width * height * 4)</div>
<div class="line">                )</div>
<div class="line">            );</div>
<div class="line">        }</div>
<div class="line">        </div>
<div class="line">        width_ = width;</div>
<div class="line">        height_ = height;</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    ~Texture() {</div>
<div class="line">        <span class="keyword">delete</span>[] data_;</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line">    uint8_t* data_;</div>
<div class="line">    <span class="keywordtype">int</span> width_, height_;</div>
<div class="line">};</div>
<div class="ttc" id="aclassgimp_1_1error_1_1MemoryException_html_a46168c69b3feaa09362141f76d9fbf17"><div class="ttname"><a href="classgimp_1_1error_1_1MemoryException.html#a46168c69b3feaa09362141f76d9fbf17">gimp::error::MemoryException::AllocationFailed</a></div><div class="ttdeci">static MemoryException AllocationFailed(const std::string &amp;context=&quot;&quot;)</div><div class="ttdoc">Create MemoryException for allocation failure.</div><div class="ttdef"><b>Definition</b> <a href="exceptions_8h_source.html#l00328">exceptions.h:328</a></div></div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md72"></a>
Pattern 3: Validation with Early Return</h2>
<div class="fragment"><div class="line"><a class="code hl_class" href="classgimp_1_1error_1_1Result.html">Result&lt;void&gt;</a> ValidateImage(<span class="keyword">const</span> Image&amp; img) {</div>
<div class="line">    <span class="keywordflow">if</span> (img.GetWidth() &lt;= 0) {</div>
<div class="line">        <span class="keywordflow">return</span> <a class="code hl_function" href="error__result_8h.html#ad46ab623af6cb122ddcbd8d54bc208d6">Err</a>(ErrorCode::InvalidArgumentOutOfRange, </div>
<div class="line">                  <span class="stringliteral">&quot;Width must be positive&quot;</span>);</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">if</span> (img.GetHeight() &lt;= 0) {</div>
<div class="line">        <span class="keywordflow">return</span> <a class="code hl_function" href="error__result_8h.html#ad46ab623af6cb122ddcbd8d54bc208d6">Err</a>(ErrorCode::InvalidArgumentOutOfRange, </div>
<div class="line">                  <span class="stringliteral">&quot;Height must be positive&quot;</span>);</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">if</span> (img.GetData() == <span class="keyword">nullptr</span>) {</div>
<div class="line">        <span class="keywordflow">return</span> <a class="code hl_function" href="error__result_8h.html#ad46ab623af6cb122ddcbd8d54bc208d6">Err</a>(ErrorCode::InvalidArgumentNull, </div>
<div class="line">                  <span class="stringliteral">&quot;Image data is null&quot;</span>);</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span> <a class="code hl_function" href="error__result_8h.html#a7667c82dbaf0efd73c53b6be6b57e0fc">Ok</a>();</div>
<div class="line">}</div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md73"></a>
Pattern 4: Batch Operations</h2>
<div class="fragment"><div class="line">std::vector&lt;ErrorInfo&gt; ProcessBatch(<span class="keyword">const</span> std::vector&lt;Image&gt;&amp; images) {</div>
<div class="line">    std::vector&lt;ErrorInfo&gt; errors;</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; img : images) {</div>
<div class="line">        <span class="keyword">auto</span> result = ProcessImage(img);</div>
<div class="line">        <span class="keywordflow">if</span> (!result.IsOk()) {</div>
<div class="line">            errors.push_back(result.Error());</div>
<div class="line">            <a class="code hl_function" href="classgimp_1_1error_1_1ErrorHandler.html#a9f453e8965e24a23cfd706038561bea4">ErrorHandler::GetInstance</a>().ReportError(result.Error());</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span> errors;  <span class="comment">// Return all errors that occurred</span></div>
<div class="line">}</div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md74"></a>
Pattern 5: Callback-Based Error Notification</h2>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> SetupUIErrorHandling() {</div>
<div class="line">    <span class="comment">// Show errors in status bar</span></div>
<div class="line">    <a class="code hl_function" href="classgimp_1_1error_1_1ErrorHandler.html#a9f453e8965e24a23cfd706038561bea4">ErrorHandler::GetInstance</a>().RegisterCallback(</div>
<div class="line">        [](<span class="keyword">const</span> <a class="code hl_class" href="classgimp_1_1error_1_1ErrorInfo.html">ErrorInfo</a>&amp; error) {</div>
<div class="line">            <span class="keywordflow">if</span> (error.GetSeverity() &gt;= <a class="code hl_enumvalue" href="error__codes_8h.html#a79c20b0eb93b241daa0981758c7a5bd5a52f3b9f4c13b3350850c24bc26c0cef8">ErrorSeverity::Recoverable</a>) {</div>
<div class="line">                StatusBar::ShowError(error.GetMessage());</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    );</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Log all errors</span></div>
<div class="line">    <a class="code hl_function" href="classgimp_1_1error_1_1ErrorHandler.html#a9f453e8965e24a23cfd706038561bea4">ErrorHandler::GetInstance</a>().RegisterCallback(</div>
<div class="line">        [](<span class="keyword">const</span> <a class="code hl_class" href="classgimp_1_1error_1_1ErrorInfo.html">ErrorInfo</a>&amp; error) {</div>
<div class="line">            Logger::Log(error.ToString());</div>
<div class="line">        }</div>
<div class="line">    );</div>
<div class="line">}</div>
<div class="ttc" id="aerror__codes_8h_html_a79c20b0eb93b241daa0981758c7a5bd5a52f3b9f4c13b3350850c24bc26c0cef8"><div class="ttname"><a href="error__codes_8h.html#a79c20b0eb93b241daa0981758c7a5bd5a52f3b9f4c13b3350850c24bc26c0cef8">gimp::error::ErrorSeverity::Recoverable</a></div><div class="ttdeci">@ Recoverable</div><div class="ttdoc">Error occurred but application can recover.</div><div class="ttdef"><b>Definition</b> <a href="error__codes_8h_source.html#l00042">error_codes.h:42</a></div></div>
</div><!-- fragment --><h1 class="doxsection"><a class="anchor" id="autotoc_md75"></a>
Testing Error Handling</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md76"></a>
Testing Result&lt;T&gt;</h2>
<div class="fragment"><div class="line">TEST_CASE(<span class="stringliteral">&quot;Error handling - Result&quot;</span>) {</div>
<div class="line">    <span class="comment">// Test success case</span></div>
<div class="line">    <span class="keyword">auto</span> result = Divide(10, 2);</div>
<div class="line">    REQUIRE(result.IsOk());</div>
<div class="line">    REQUIRE(result.Value() == 5);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Test error case</span></div>
<div class="line">    result = Divide(10, 0);</div>
<div class="line">    REQUIRE(result.IsError());</div>
<div class="line">    REQUIRE(result.Error().GetCode() == ErrorCode::InvalidArgumentOutOfRange);</div>
<div class="line">}</div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md77"></a>
Testing Exceptions</h2>
<div class="fragment"><div class="line">TEST_CASE(<span class="stringliteral">&quot;Error handling - Exceptions&quot;</span>) {</div>
<div class="line">    REQUIRE_THROWS_AS(</div>
<div class="line">        LoadBrush(<span class="stringliteral">&quot;&quot;</span>),</div>
<div class="line">        <a class="code hl_class" href="classgimp_1_1error_1_1InvalidArgumentException.html">InvalidArgumentException</a></div>
<div class="line">    );</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">try</span> {</div>
<div class="line">        LoadBrush(<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line">        FAIL(<span class="stringliteral">&quot;Should have thrown&quot;</span>);</div>
<div class="line">    } <span class="keywordflow">catch</span> (<span class="keyword">const</span> <a class="code hl_class" href="classgimp_1_1error_1_1InvalidArgumentException.html">InvalidArgumentException</a>&amp; e) {</div>
<div class="line">        REQUIRE(e.<a class="code hl_function" href="classgimp_1_1error_1_1GimpException.html#a1a909dd203161b6adc1bc6b83c8c8bd2">GetCode</a>() == ErrorCode::InvalidArgumentNull);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="ttc" id="aclassgimp_1_1error_1_1GimpException_html_a1a909dd203161b6adc1bc6b83c8c8bd2"><div class="ttname"><a href="classgimp_1_1error_1_1GimpException.html#a1a909dd203161b6adc1bc6b83c8c8bd2">gimp::error::GimpException::GetCode</a></div><div class="ttdeci">ErrorCode GetCode() const</div><div class="ttdoc">Get the error code.</div><div class="ttdef"><b>Definition</b> <a href="exceptions_8h_source.html#l00066">exceptions.h:66</a></div></div>
<div class="ttc" id="aclassgimp_1_1error_1_1InvalidArgumentException_html"><div class="ttname"><a href="classgimp_1_1error_1_1InvalidArgumentException.html">gimp::error::InvalidArgumentException</a></div><div class="ttdoc">Exception for invalid arguments.</div><div class="ttdef"><b>Definition</b> <a href="exceptions_8h_source.html#l00174">exceptions.h:174</a></div></div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md78"></a>
Testing Recovery</h2>
<div class="fragment"><div class="line">TEST_CASE(<span class="stringliteral">&quot;Error recovery&quot;</span>) {</div>
<div class="line">    <span class="keywordtype">bool</span> recovery_called = <span class="keyword">false</span>;</div>
<div class="line">    </div>
<div class="line">    <a class="code hl_function" href="classgimp_1_1error_1_1ErrorHandler.html#a9f453e8965e24a23cfd706038561bea4">ErrorHandler::GetInstance</a>().RegisterRecoveryHandler(</div>
<div class="line">        <a class="code hl_enumvalue" href="error__codes_8h.html#a810430fca6f6c0288605750338048c54acf3882f1c43ab22bff0bd9d82d83251b">ErrorCategory::IO</a>,</div>
<div class="line">        [&amp;](<span class="keyword">const</span> <a class="code hl_class" href="classgimp_1_1error_1_1ErrorInfo.html">ErrorInfo</a>&amp; error) {</div>
<div class="line">            recovery_called = <span class="keyword">true</span>;</div>
<div class="line">            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">        }</div>
<div class="line">    );</div>
<div class="line">    </div>
<div class="line">    <a class="code hl_function" href="classgimp_1_1error_1_1ErrorHandler.html#a9f453e8965e24a23cfd706038561bea4">ErrorHandler::GetInstance</a>().ReportError(</div>
<div class="line">        ErrorCode::IOFileNotFound, <span class="stringliteral">&quot;test.txt&quot;</span></div>
<div class="line">    );</div>
<div class="line">    </div>
<div class="line">    REQUIRE(recovery_called);</div>
<div class="line">}</div>
</div><!-- fragment --><h1 class="doxsection"><a class="anchor" id="autotoc_md79"></a>
Summary Checklist</h1>
<p>When implementing error handling in your code:</p>
<ul class="check">
<li class="unchecked">Choose appropriate error strategy (Result vs Exception)</li>
</ul>
<ul class="check">
<li class="unchecked">Provide meaningful error context</li>
</ul>
<ul class="check">
<li class="unchecked">Use correct error codes and categories</li>
</ul>
<ul class="check">
<li class="unchecked">Add ERROR_CONTEXT to functions</li>
</ul>
<ul class="check">
<li class="unchecked">Register recovery handlers where appropriate</li>
</ul>
<ul class="check">
<li class="unchecked">Initialize ErrorHandler in main()</li>
</ul>
<ul class="check">
<li class="unchecked">Handle fatal errors appropriately</li>
</ul>
<ul class="check">
<li class="unchecked">Test both success and error paths</li>
</ul>
<ul class="check">
<li class="unchecked">Document expected errors in function comments</li>
</ul>
<ul class="check">
<li class="unchecked">Don't catch and ignore exceptions</li>
</ul>
<p>For more details on the architecture, see <a class="el" href="md_docs_2ERROR__HANDLING__ARCHITECTURE.html" title="Error Handling Architecture">ERROR_HANDLING_ARCHITECTURE.md</a>. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.16.1 </li>
  </ul>
</div>
</body>
</html>
